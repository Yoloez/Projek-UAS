<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
    <link rel="stylesheet" href="login.css" />
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <style>
      /* Animasi fade out untuk perpindahan halaman */
      .slide-out {
        animation: slideOut 0.5s ease forwards;
      }

      @keyframes slideOut {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(-100%);
        }
      }

      /* Animasi transisi untuk ikon mata */
      .rotate {
        animation: rotateIcon 0.3s ease-in-out;
      }

      /* Definisi animasi rotasi */
      @keyframes rotateIcon {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(180deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>Login</h1>
      <form id="loginForm">
        <div class="kata">
          <input type="text" id="username" placeholder="Username" required />
          <i class="bx bxs-user"></i>
        </div>
        <div class="kata">
          <input type="password" id="password" placeholder="Password" required />
          <button type="button" class="mata" onclick="togglePassword()">
            <i id="eyeIcon" data-lucide="eye"></i>
          </button>
        </div>
        <div class="login">
          <button type="submit" id="login" class="button">LOGIN</button>
        </div>
        <div class="forgot">
          <a>Lupa password?</a>
          <a class="lupa-password" href="https://shopee.co.id/product/259907194/12264310146?uls_trackid=50n8vvep001r&utm_campaign=id_mAMzoB6XuD&utm_content=----&utm_medium=affiliates&utm_source=an_11320950667&utm_term=bqpnyegw1f6w"
            >Tekan di sini</a
          >
        </div>
        <div class="daftar">
          <a>Belum punya akun?</a>
          <a id="daftarLink" class="daftar-di-sini" href="daftar.html">Daftar di sini</a>
        </div>
      </form>
    </div>

    <script>
      // Fungsi untuk menampilkan atau menyembunyikan password
      function togglePassword() {
        const passwordField = document.getElementById("password");
        const eyeIcon = document.getElementById("eyeIcon");

        // Tambahkan kelas rotate untuk animasi
        eyeIcon.classList.add("rotate");

        // Hapus kelas rotate setelah animasi selesai agar dapat digunakan lagi
        setTimeout(() => {
          eyeIcon.classList.remove("rotate");
        }, 300);

        // Ganti ikon mata sesuai status password
        if (passwordField.type === "password") {
          passwordField.type = "text";
          eyeIcon.setAttribute("data-lucide", "eye-off");
        } else {
          passwordField.type = "password";
          eyeIcon.setAttribute("data-lucide", "eye");
        }

        lucide.createIcons(); // Render ulang ikon Lucide
      }

      // Tambahkan event listener untuk link "Daftar di sini"
      document.getElementById("daftarLink").addEventListener("click", function (event) {
        event.preventDefault(); // Mencegah link langsung terbuka

        // Tambahkan kelas fade-out untuk memulai animasi
        document.body.classList.add("slide-out");

        // Tunggu animasi selesai sebelum berpindah halaman
        setTimeout(function () {
          window.location.href = "/DAFTAR/daftar.html";
        }, 500); // Durasi sesuai dengan animasi fade out
      });

      // Fungsi untuk submit form dan mengarahkan ke home.html
      document.getElementById("loginForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Mencegah form terkirim
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;

        if (username && password) {
          // Arahkan ke halaman home.html
          window.location.href = "/landingpage/home.html";
        } else {
          alert("Masukkan username dan password");
        }
      });
    </script>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
